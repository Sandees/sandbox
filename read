import json

# Your file location
file_path = "/workspace/Users/nanditha..com/uc_data.json"

# Read the JSON file
try:
    with open(f"/dbfs{file_path}", 'r') as f:
        mitre_data = json.load(f)
    
    print("âœ… MITRE data loaded successfully!")
    print(f"ğŸ“Š Data type: {type(mitre_data)}")
    
    # Display structure info
    if isinstance(mitre_data, dict):
        print(f"ğŸ”‘ Available keys: {list(mitre_data.keys())}")
        
        # If it has techniques
        if 'techniques' in mitre_data:
            print(f"ğŸ“ˆ Number of techniques: {len(mitre_data['techniques'])}")
        elif 'objects' in mitre_data:
            print(f"ğŸ“ˆ Number of objects: {len(mitre_data['objects'])}")
            
    elif isinstance(mitre_data, list):
        print(f"ğŸ“ˆ Number of items: {len(mitre_data)}")
        if len(mitre_data) > 0:
            print(f"ğŸ” First item keys: {list(mitre_data[0].keys()) if isinstance(mitre_data[0], dict) else 'Not a dict'}")
    
    # Now you can use mitre_data in your analysis function
    
except FileNotFoundError:
    print("âŒ File not found at the specified location")
except json.JSONDecodeError as e:
    print(f"âŒ Invalid JSON format: {e}")
except Exception as e:
    print(f"âŒ Error reading file: {e}")
